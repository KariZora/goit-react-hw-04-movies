{"version":3,"sources":["components/api/api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/MoviesPage/MoviesPage.jsx"],"names":["axios","defaults","baseURL","getTrendingMovies","get","then","results","data","catch","error","console","log","searchMovies","name","getMovieDetails","id","getActorsListById","cast","getReviewsTextById","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","MoviesPage","useState","searchValue","setSearchValue","moviesList","setMoviesList","location","useLocation","history","useHistory","searchOrder","URLSearchParams","search","useEffect","response","map","title","to","pathname","state","page","onSubmit","event","preventDefault","type","onChange","e"],"mappings":"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","file":"static/js/MoviesPage.cb9664b3.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\r\n\r\nconst getTrendingMovies = () => {\r\n  return axios\r\n    .get(`/trending/movie/day?api_key=381e4b32f80b6d35c69daa1c549c8820`)\r\n    .then((results) => results.data.results)\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nconst searchMovies = (name) => {\r\n  return axios\r\n    .get(`/search/movie?api_key=381e4b32f80b6d35c69daa1c549c8820&query=${name}`)\r\n    .then((results) => results.data.results)\r\n    .catch((error) => console.log(error));\r\n};\r\n\r\nconst getMovieDetails = (id) => {\r\n  return axios\r\n    .get(`/movie/${id}?api_key=381e4b32f80b6d35c69daa1c549c8820`)\r\n    .then((results) => results.data)\r\n    .catch(function (error) {\r\n      console.log(error);\r\n    });\r\n};\r\n\r\nconst getActorsListById = (id) => {\r\n  return (\r\n    axios\r\n      .get(`/movie/${id}/credits?api_key=f9bd48f5e3b13d2262b70dc60f892c4d`)\r\n      .then((results) => results.data.cast)\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  );\r\n};\r\n\r\nconst getReviewsTextById = (id) => {\r\n  return (\r\n    axios\r\n      .get(`/movie/${id}/reviews?api_key=f9bd48f5e3b13d2262b70dc60f892c4d`)\r\n      .then((results) => results.data.results)\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      })\r\n  );\r\n};\r\n\r\nexport {\r\n  getTrendingMovies,\r\n  searchMovies,\r\n  getMovieDetails,\r\n  getActorsListById,\r\n  getReviewsTextById,\r\n};\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from \"react\";\r\nimport { searchMovies } from \"../api/api\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useLocation, useHistory, Link } from \"react-router-dom\";\r\n\r\nconst MoviesPage = () => {\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [moviesList, setMoviesList] = useState(\"\");\r\n\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const searchOrder = new URLSearchParams(location.search).get(\"query\");\r\n\r\n  const searchMovie = (event) => {\r\n    event.preventDefault();\r\n    history.push({ ...location, search: `query=${searchValue}` });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (searchOrder === null) return;\r\n\r\n    searchMovies(searchOrder).then((response) => {\r\n      setMoviesList(\r\n        response.map(({ title, id }) => (\r\n          <li key={id}>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${id}`,\r\n                state: { page: `/movies${location.search}` },\r\n              }}\r\n            >\r\n              {title}\r\n            </Link>\r\n          </li>\r\n        ))\r\n      );\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchOrder]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={searchMovie}>\r\n        <label>\r\n          <input\r\n            type=\"text\"\r\n            value={searchValue}\r\n            onChange={(e) => setSearchValue(e.target.value)}\r\n          />\r\n          <button type=\"submit\">Search</button>\r\n        </label>\r\n      </form>\r\n      {{ moviesList } && <ul>{moviesList}</ul>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}